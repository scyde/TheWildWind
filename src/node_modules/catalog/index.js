import React, {Component} from 'react'
import Image from 'semantic-ui-react/dist/commonjs/elements/Image'
import Button from 'semantic-ui-react/dist/commonjs/elements/Button'
import Container from 'semantic-ui-react/dist/commonjs/elements/Container'
import axios from 'axios'
import './catalog.css'

class Catalog extends Component {
    constructor(){
        super()
    }
    state = {
        items: []
    }
    getItems() {
        axios.get('https://the-wild-wind.herokuapp.com/api/items')
            .then(response => {
                this.setState({items: response.data}, () => {
                    console.log(this.state.items)
                })
            })
    }
    componentWillMount() {
        this.getItems()
    }

    render() {
        const items = this.state.items.map((item,i) => {
            return (
                <div className="item-box" key={item.id}>
                    <div className="item-grid">
                        <div className="item-desc-header">
                            {item.name}
                        </div>
                        <div className="item-image">
                            <Image src={item.image} />
                        </div>
                        <div className="item-desc">
                            <p className="item-desc-text">
                               {/*{item.description}*/}
                            </p>
                        </div>
                        <div className="item-buttons">
                            <Button.Group vertical floated='right'>
                                <Button
                                    content='Подробнее'
                                    icon='search'
                                    labelPosition='left'
                                />
                                <Button
                                    content='Добавить'
                                    icon='shop'
                                    labelPosition='left'

                                />
                            </Button.Group>
                        </div>
                    </div>
                </div>
            )
        })

        return (
            <Container className="item-container">
                {items}
            </Container>
        )
    }
}

export default Catalog
