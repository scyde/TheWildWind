import React, {Component} from 'react'
import { Card, Image } from 'semantic-ui-react'
import axios from 'axios'
import './catalog.css'

class Catalog extends Component {
    constructor(){
        super()
    }
    state = {
        items: []
    }
    getItems() {
        axios.get('http://localhost/api/items')
            .then(response => {
                this.setState({items: response.data}, () => {
                    console.log(this.state.items)
                })
            })
    }
    componentWillMount() {
        this.getItems()
    }

    render() {
        const items = this.state.items.map((item,i) => {
            return (
                <Card fluid>
                    <Card.Content>
                        <Image src={item.image} />
                    </Card.Content>
                    <Card.Content>
                        <Card.Header>
                            {item.name}
                        </Card.Header>
                        <Card.Description>
                            {item.description}
                        </Card.Description>
                    </Card.Content>
                </Card>
            )
        })
        return (
            <Card.Group className="container">
                {items}
            </Card.Group>
        )
    }
}

export default Catalog
